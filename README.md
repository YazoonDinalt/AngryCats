# AngryCats

Данное приложение предлагает упрощенную модель поведения и взаимодействия котов.
Оно включает в себя такие аспекты кошачьего поведения, как размножение, смертность, 
агрессия (драки и шипение), а также свободное перемещение.
Для его использования предлагается графическое приложение и консольная утилита.

# Правила взаимодействия котов

Возможное поведение:

    1. FIGHT.

        Если расстояние между двумя котами не превышает заданной дистанции r0, то коты начинают драться.

    2. HISS.

       Если расстояние между двумя котами не превышает заданной дистанции r1, то коты начинают шипеть друг на другу с 
       вероятностью, обратно пропорциональной расстоянию.
       Кот также может начать шипеть на дерущегося или размножающегося кота, если на момент проверки он находится 
       в статусе Walk.

    3. WALK.

       Если в радиусе, меньшем чем r0, нет других котов, либо если он не начал ни на кого шипеть в радиусе r1, 
       то кот находится в состоянии Walk.

    4. BREENDING.

       Если несколько котов разного пола попали в одну клетку и при этом в радиусе r0 от них нет котов в состоянии Fight,
       то они начинают размножаться.

    5. DEAD.

       Если возраст кота превышает 30(может измениться), то он мертв.

    
# Функции расстояния

    1. Euclidean distance.
    2. Manhattan distance.
    3. Chebyshev distance.

# Консольная утилита

Для ее работы необходимо указать размер карты, количество котов, радиус драки и радиус шипения.

``` kotlin
val height = 5
val width = 5
val amountCats = 10
val r0 = 1.0
val r1 = 3.0
```

Для создания списка котов можно воспользоваться следующей функцией, чтобы не пришлось это делать в ручную.
``` kotlin
val cats = createCats(amountCats, height, width)
```

Вывести их расположение на карте можно следующим образом:
``` kotlin
Print(Map(width, height, cats).visualCatsMap())
```

![img_1.png](image/img_1.png)

Дополнительный столбец справа предназначен для умерших котов.

Чтобы обновить статусы необходимо использовать:
``` kotlin
UpdateStatus(cats, r0, r1)
```

Изначально, при инициализации, логирование выключено, а для расчета расстояния используется Euclidean distance.

Исправить это можно указав дополнительные параметры:
``` kotlin
UpdateStatus(cats, r0, r1, true, NameDistance.Manhattan)
```

Благодаря логированию можно отследить все взаимодействия котов.

![img_2.png](image/img_2.png)

Вывод котов на карте с обновленными статусами:

![img_3.png](image/img_3.png)

Для перемещения котов предназначена следующая функция:

```kotlin
Map(width, height, cats).moveCats()
```

Включение логирования также необходимо указать:

```kotlin
Map(width, height, cats, true).moveCats()
```

В данной ситуации оно покажет кто куда ушел:

![img_4.png](image/img_4.png)

Считается что возраст кота увеличивается только при передвижении.
Если он превысит 15(может измениться), то кот попадет на кладбище в правом столбце.
Вот пример для одного кота:

![img_5.png](image/img_5.png)

Если несколько котов противоположного пола окажутся в одной клетке, то при следующем перемещении в этой клетке окажется новый котенок.

Для примера создадим двух котов разных полов в одной клетке.
```kotlin
val cats = mutableListOf(
        Cat(2, 2, Sex.Male, 4, Status.WALK),
        Cat(2, 2, Sex.Female, 4, Status.WALK)
    )
```

Тогда следующий код:
```kotlin
UpdateStatus(cats, r0, r1)
Print(Map(width, height, cats).visualCatsMap())


Map(width, height, cats).moveCats()
UpdateStatus(cats, r0, r1)
Print(Map(width, height, cats).visualCatsMap())
```
предоставит:
![img_6.png](image/img_6.png)